#include <iostream>   // Подключение библиотеки для ввода и вывода
#include <random>     // Подключение библиотеки для генерации случайных чисел
#include <chrono>     // Подключение библиотеки для измерения времени
#include <iomanip>    // Подключение библиотеки для форматированного вывода

using namespace std;  // Использование стандартного пространства имён

int task2() { // Функция для выполнения задания 2

    constexpr int SIZE = 1'000'000;       // Размер массива (1 000 000 элементов)
    constexpr int RAND_MIN_VAL = 1;        // Минимальное значение диапазона
    constexpr int RAND_MAX_VAL = 1000;      // Максимальное значение диапазона

    int* arr = new int[SIZE];              // Динамическое выделение памяти под массив

    random_device rd;                      // Источник энтропии
    mt19937 gen(rd());                     // Генератор случайных чисел
    uniform_int_distribution<> dist(RAND_MIN_VAL, RAND_MAX_VAL); // Равномерное распределение

    for (int i = 0; i < SIZE; i++) {       // Заполнение массива случайными числами
        arr[i] = dist(gen);                // Генерация и запись числа в массив
    }

    auto start_seq = chrono::high_resolution_clock::now(); // Начало измерения времени

    int min_val = arr[0];                  // Инициализация минимума первым элементом
    int max_val = arr[0];                  // Инициализация максимума первым элементом

    for (int i = 1; i < SIZE; i++) {       // Последовательный обход массива
        if (arr[i] < min_val) {            // Проверка на минимум
            min_val = arr[i];              // Обновление минимального значения
        }
        if (arr[i] > max_val) {            // Проверка на максимум
            max_val = arr[i];              // Обновление максимального значения
        }
    }

    auto end_seq = chrono::high_resolution_clock::now(); // Конец измерения времени
    chrono::duration<double> time_seq = end_seq - start_seq; // Вычисление времени выполнения

    cout << fixed << setprecision(10);     // Формат вывода времени

    cout << "Последовательный поиск максимума и минимума массива." << endl;

    cout << "Минимальное значение массива: " << min_val << endl; // Вывод минимального значения
    cout << "Максимальное значение массива: " << max_val << endl; // Вывод максимального значения
    cout << "Время выполенение: " << time_seq.count() << " секунды\n" << endl; // Вывод времени

    delete[] arr;                          // Освобождение динамически выделенной памяти
    cout << "Динамическая память успешно освобождена." << endl; // Сообщение об освобождении памяти

    return 0;                              // Завершение функции
}

int main() {          // Главная функция программы
    task2();          // Вызов функции задания 2
    return 0;         // Завершение работы программы
}
