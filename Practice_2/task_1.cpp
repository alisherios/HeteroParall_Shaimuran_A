#include <iostream> // Подключение библиотеки для ввода и вывода данных (cout, endl)
#include <vector>   // Подключение библиотеки для работы с динамическими массивами vector

using namespace std; // Использование стандартного пространства имен (чтобы не писать std::)

// ----------------------- Сортировка пузырьком -----------------------
void bubbleSort(vector<int>& arr) { // Функция пузырьковой сортировки, принимает ссылку на вектор целых чисел
    int n = arr.size(); // Инициализация переменной n размером входящего вектора
    for (int i = 0; i < n - 1; ++i) { // Внешний цикл: определяет количество проходов по массиву
        for (int j = 0; j < n - i - 1; ++j) { // Внутренний цикл: сравнивает пары соседних элементов
            if (arr[j] > arr[j + 1]) { // Проверка условия: если текущий элемент больше следующего
                swap(arr[j], arr[j + 1]); // Стандартная функция обмена значений двух элементов местами
            }
        }
    }
}

// ----------------------- Сортировка выбором -----------------------
void selectionSort(vector<int>& arr) { // Функция сортировки выбором, принимает ссылку на вектор
    int n = arr.size(); // Получение общего количества элементов в массиве
    for (int i = 0; i < n - 1; ++i) { // Цикл по индексам элементов, которые нужно поставить на правильное место
        int minIndex = i; // Сохранение индекса текущего элемента как начального минимального значения
        for (int j = i + 1; j < n; ++j) { // Цикл для поиска фактического минимума в неотсортированной части
            if (arr[j] < arr[minIndex]) { // Если найден элемент, который меньше текущего найденного минимума
                minIndex = j; // Обновление индекса минимального элемента на найденный новый индекс
            }
        }
        swap(arr[i], arr[minIndex]); // Перемещение найденного минимального элемента на позицию i
    }
}

// ----------------------- Сортировка вставкой -----------------------
void insertionSort(vector<int>& arr) { // Функция сортировки вставками, принимает ссылку на вектор
    int n = arr.size(); // Определение размера массива для итерации
    for (int i = 1; i < n; ++i) { // Начинаем перебор со второго элемента (индекс 1)
        int key = arr[i]; // Текущий элемент ("ключ"), который мы будем "вставлять" в левую часть
        int j = i - 1; // Указатель на индекс элемента, стоящего слева от текущего ключа
        while (j >= 0 && arr[j] > key) { // Пока не дошли до начала и элементы слева больше ключа
            arr[j + 1] = arr[j]; // Сдвигаем элемент, который больше ключа, на одну позицию вправо
            j--; // Переходим к следующему элементу слева для дальнейшей проверки
        }
        arr[j + 1] = key; // Устанавливаем ключ на его законное место в отсортированной части
    }
}

// ----------------------- Функция для вывода массива -----------------------
void printArray(const vector<int>& arr) { // Функция вывода, принимает неизменяемую ссылку на вектор
    for (int num : arr) { // Цикл range-based for для обхода всех чисел в векторе
        cout << num << " "; // Печать текущего числа в консоль и добавление пробела
    }
    cout << endl; // Переход на новую строку после вывода всех элементов массива
}

// ----------------------- Главная функция -----------------------
int SortingAlgorithmsWithoutOpenMP() { // Вспомогательная функция для демонстрации алгоритмов
    vector<int> arr = {64, 0, 34, -13, 57, 25, -11, 17, -7, 43, -51, 22, 11, -72, 85, 90}; // Создание и инициализация вектора

    cout << "Исходный массив: "; // Вывод информационного сообщения
    printArray(arr); // Вызов функции печати для отображения начального состояния массива

    // Пример использования пузырьковой сортировки
    bubbleSort(arr); // Вызов алгоритма пузырьковой сортировки для переданного массива
    cout << "После сортировки пузырьком: "; // Вывод пояснительного текста
    printArray(arr); // Отображение результата работы пузырьковой сортировки

    // Возвращаем исходный массив для других сортировок
    arr = {64, 0, 34, -13, 57, 25, -11, 17, -7, 43, -51, 22, 11, -72, 85, 90}; // Сброс значений массива к исходным

    // Пример использования сортировки выбором
    selectionSort(arr); // Вызов алгоритма сортировки выбором
    cout << "После сортировки выбором: "; // Вывод пояснительного текста
    printArray(arr); // Отображение результата работы сортировки выбором

    // Возвращаем исходный массив для сортировки вставкой
    arr = {64, 0, 34, -13, 57, 25, -11, 17, -7, 43, -51, 22, 11, -72, 85, 90}; // Сброс значений массива к исходным

    // Пример использования сортировки вставкой
    insertionSort(arr); // Вызов алгоритма сортировки вставками
    cout << "После сортировки вставкой: "; // Вывод пояснительного текста
    printArray(arr); // Отображение результата работы сортировки вставкой

    return 0; // Возврат нуля как признака успешного завершения функции
}

int main() { // Точка входа в программу
    SortingAlgorithmsWithoutOpenMP(); // Вызов функции, содержащей логику демонстрации сортировок
    return 0; // Завершение выполнения программы с кодом 0
}
